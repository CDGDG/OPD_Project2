{% extends "base.html" %}
{% block title %}게시판 작성{% endblock %}
{% block content %}
{% load bootstrap4 %}
    <form action="{% url 'Board:create' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {% bootstrap_form form %}
        <input type="{{ field.field.widget.input_type }}" class="form-control" 
                        id="{{ field.id_for_label }}" placeholder="{{ field.label }}" name="{{ field.name }}" value="{{ nickname }}">
        <div class="mt-3">
            <a class="btn btn-primary mt-3" href="{% url 'Board:list' %}">목록</a>
            <button type="submit" class="btn btn-primary mt-3">작성하기</button>
        </div>
    </form>
{% endblock %}

{% block script %}
<script>
    function readImage(input) {
        if (input.target.files && input.target.files[0]) {
            const reader = new FileReader();

            reader.onload = (e) => {
                $('#img_preview').attr('src',e.target.result)
            }
            reader.readAsDataURL(input.target.files[0])
        }
    }
    $(document).ready(function(){
        $('#id_img').change(function(e){
            readImage(e)
        })
    })
</script>
{% endblock %}